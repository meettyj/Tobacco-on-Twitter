Here are some collection results using **[Ban-related keywords](https://github.com/meettyj/Alcohol-on-Twitter/blob/master/reddit/subreddit_count.md#1-ban-related-keywords-flavor)**, **[Tax-related keywords](https://github.com/meettyj/Alcohol-on-Twitter/blob/master/reddit/subreddit_count.md#2-tax-related-keywords)**, and **[Ecig keywords](https://github.com/meettyj/Alcohol-on-Twitter/blob/master/reddit/subreddit_count.md#3-ecig-keywords)** in Reddit,
and some **[Specific subreddits analysis](https://github.com/meettyj/Alcohol-on-Twitter/blob/master/reddit/subreddit_count.md#4-specific-subreddits-analysis)**


## Conclusion
- The reddits collection can be devided into 2 parts:
  - search the same keywords (as using in Twitter) without specifying subreddit.
  - crawl all submissions under specific subreddit.
- Some of the Ban-related keywords is helpful.
- Tax-related keywords is not that practicable.

# <span id="Ban-related-keywords">1. Ban-related keywords (Flavor)</span>
## Proposal (2017.06)
| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| San Francisco Ban | 41 | ('AutoNewspaper', 5), ('electronic_cigarette', 5), ('autotldr', 2), ('POTUSWatch', 2) | **electronic_cigarette**: San Francisco votes to ban sales of vaping flavored liquid. **autotldr**: San Francisco mulls ban on delivery robots. **ecigadvocacy**: CALL TO ACTION - Send letter to Stop the Flavor Ban in San Francisco!| Around **half** of results are related to ecig bans|
| vaping ban | 19 | ('AutoNewspaper', 5), ('sanfrancisco', 2), ('electronic_cigarette', 2), ('Winnipeg', 1) | **MIAMIHERALDauto**: Politics- San Francisco to ban sales of vaping flavored liquid | All related to ecig bans but less number |
| policies (sb140/sb 140) | Few but none related | N/A | N/A | Policy name may not suitable in reddit |
| San Francisco | 3410 | ('ImagesOfCalifornia', 355), ('AutoNewspaper', 176), ('sanfrancisco', 98), ('news', 89) | N/A | Not a lot |
| San Francisco vape | None | N/A | N/A | N/A |
| San Francisco cigarette | None | N/A | N/A | N/A |


## Approval (2018.06)
| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| San Francisco Ban | 43 | ('AutoNewspaper', 7), ('electronic_cigarette', 3), ('news', 3), ('Vaping', 3) | **news**:San Francisco to vote on menthol cigarettes and e-cigarette flavors ban| **Almost all of them** are related to ecig bans|
| vaping ban | 25 | ('vapescom', 3), ('AutoNewspaper', 2), ('CanadaWeedStocks', 2), ('TheBlogFeed', 1) | **newjersey**: Does the smoking ban on NJ boardwalks include Vaping? | All related to ecig bans but maybe not in SF |
| San Francisco | 4145 | ('sanfrancisco', 186), ('AutoNewspaper', 151), ('newsbotbot', 105) | N/A | N/A |
| San Francisco vape | 3 | ('juul', 1), ('Vaping', 1), ('ejuice', 1) | **juul**: How is the San Francisco vape flavor ban going to effect JUUL? | related but less number |
| San Francisco cigarette | 11 | ('news', 3), ('AutoNewspaper', 3), ('NBCauto', 2) | **news**: San Francisco to vote on menthol cigarettes and e-cigarette flavors ban | related but less number |


## Enactment (2019.01)

| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| San Francisco Ban | 26 | ('sanfrancisco', 2), ('unremovable', 2), ('The_Verge_Tech_RSS', 1), ('badgovnofreedom', 1) | **hackernews**: San Francisco proposal would ban government facial recognition use in the city| **None** related to ecig bans|
| policies (sb140/sb 140) | Few but none related | N/A | N/A | N/A |
| vaping ban | 9 | ('electronic_cigarette', 3), ('alaska', 1), ('HongKong', 1) | **electronic_cigarette**: FDA threatening to ban vaping altogether | maybe not in SF |

## Two month before Enactment (2018.11 and 2018.12)

| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| San Francisco Ban | 16 | ('The_Donald', 3), ('politics', 2), ('newsbotbot', 2) | **DiversityNews**: San Francisco Judge Blocks Asylum Ban For Aliens Who Cross Border Illegallyâ€¦| **None** related to ecig bans|



# 2. Tax-related keywords

I also tried abbreviation of states (e.g. NJ for New Jersey), but it seems the combination of place + tax is not that positive.

## California (2017.04)
| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| California ecig tax | None | N/A | N/A | N/A |
| California vape | None | N/A | N/A | N/A |
| California tax | 203 | ('AutoNewspaper', 32), ('California', 22), ('The_Donald', 16) | **news**: California side deals for Gas Tax. **news**: California looks to ban tobacco product discounts after state's recent $2-a-pack tax hike | **Few** of them related to ecig tax. Most of them about gas tax. |
| California | 12928 | N/A | N/A | N/A |

## Kansas (2017.07)
| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| Kansas ecig tax | None | N/A | N/A | N/A |
| Kansas tax | 19 | ('AutoNewspaper', 5), ('TWTauto', 3), ('MIAMIHERALDauto', 2) | **TWTauto**: Business - Kansas' tax cut failure an economic warning to Republican| **None** related to ecig tax|
| Kansas vape | None | N/A | N/A | N/A |
| Kansas | 2235 | ('ImagesOfKansas', 196), ('AutoNewspaper', 194), ('MIAMIHERALDauto', 74) | N/A | N/A |

## Delaware (2018.01)
| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| Delaware ecig tax | None | N/A | N/A | N/A |
| Delaware tax | 7 | ('Delaware', 4), ('electronic_cigarette', 1) | **electronic_cigarette**: Delaware: E-Liquid tax ($0.05/ml) Goes Into Effect (at least you're not Pennsylvania)| 3 out of 7 are related to ecig tax|
| Delaware vape | 1 | ('Breazy', 1) | **Breazy**: Delaware Vape Tax Takes Effect | N/A |
| Delaware | 669 | ('AutoNewspaper', 75), ('Delaware', 54), ('MIAMIHERALDauto', 41) | N/A | N/A |

## New Jersey (2018.09 and 2018.10)
| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit | Examples in different subreddit | Conclusion |
| ------------- | ----------------------- | ----------------------- |----------------------- |----------------------- |
| New Jersey vape | 3 | ('OrganicMarijuana', 1), ('Marijuana', 1), ('electronic_cigarette', 1) | **electronic_cigarette**: New Jersey taxing vape juice...ugh| N/A |
| New Jersey tax | 57 | ('newjersey', 9), ('newsbotbot', 6), ('newsbotMARKET', 4) | N/A | Hard to find one related to ecig tax|
| New Jersey | 5617 | ('AutoNewspaper', 309), ('newjersey', 242), ('newsbotbot', 218) | N/A | N/A |



# 3. Ecig keywords
I randomly choose two month (January 2018, and June 2018) to analyze the distribution of ecig keywords results in different subreddits.

```
keywords = ['vape', 'e liquid', 'e juice', 'ejuice', 'electronic cigarette', 'eliquid', 'e cig', 'ecig', 'e hookah', 'electronic cig', 'ehookah']
```

## Random Month (2018.01)

| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit  |
| ------------- | ----------------------- | ----------------------- |
| vape | 2952 | ('vaporents', 417), ('Vaping', 339), ('electronic_cigarette', 244), ('trees', 167), ('CBD', 85), ('ecig_vendors', 76), ('VapeBargainsUK', 64), ('ecigclassifieds', 54), ('h3h3productions', 48), ('VapePorn', 40), ('Vaping101', 40), ('Vaping_Deals', 30), ('EntExchange', 29), ('CanadianMOMs', 26), ('AskReddit', 24), ('Waxpen', 23), ('vape_deals', 23), ('funny', 22), ('Canadian_ecigarette', 19), ('Vape_Porn', 19) |
| e liquid | 299 | ('VapeBargainsUK', 41), ('ecig_vendors', 37), ('electronic_cigarette', 29), ('Vaping', 25), ('vape_deals', 19) |
| e juice | 254 | ('Vaping', 32), ('electronic_cigarette', 32), ('Vaping_Deals', 21), ('vape_deals', 18), ('ecig_vendors', 13) |
| ejuice | 164 | ('electronic_cigarette', 41), ('Vaping', 13), ('ecigclassifieds', 13), ('VapeBargainsUK', 9), ('ejuice', 8) |
| electronic cigarette | 118 | ('Vaping', 73), ('vape101', 15), ('VapeBargainsUK', 2), ('eCigarette', 2), ('business', 2)|
| eliquid | 71 | ('electronic_cigarette', 12), ('Vaping', 6), ('ecig_vendors', 5), ('CBD', 4), ('vape_deals', 3) |
| e cig | 71 | ('electronic_cigarette', 15), ('VapeBargainsUK', 4), ('trees', 2), ('vaporents', 2), ('stopsmoking', 2) |
| ecig | 36 | ('electronic_cigarette', 10), ('VapeBargainsUK', 5), ('Vaping', 3), ('DMT', 3), ('CouponProCanada', 2) |
| e hookah | 2 | ('hookah', 2) |
| electronic cig | 0 | None |
| ehookah | 0 | None |


##  Random Month (2018.06)

| Search query | # of submissions in all subreddits  | # of submissions in specific subreddit  |
| ------------- | ----------------------- | ----------------------- |
| vape | 2837 | ('Vaping', 418), ('vaporents', 245), ('electronic_cigarette', 181), ('trees', 134), ('CBD', 85), ('ecig_vendors', 83), ('VapePorn', 76), ('ecigclassifieds', 64), ('Vaping101', 57), ('Ice_Poseidon', 52), ('h3h3productions', 38), ('oilpen', 34), ('weed', 29), ('EntExchange', 26), ('DMT', 26), ('teenagersnew', 25), ('Canadian_ecigarette', 22), ('Waxpen', 21), ('juul', 19), ('AskReddit', 19), ('333', 17), ('Drugs', 15) |
| e liquid | 257 | ('ecig_vendors', 53), ('VapeBargainsUK', 31), ('electronic_cigarette', 16), ('Vaping', 15), ('CBD', 9) |
| e juice | 216 | ('electronic_cigarette', 34), ('Vaping', 24), ('ecig_vendors', 19), ('ejuice', 13), ('CBD', 8) |
| ejuice | 140 | ('electronic_cigarette', 20), ('Vaping', 14), ('ecig_vendors', 14), ('BestOfVapeDeals', 13), ('vape_deals', 12) |
| electronic cigarette | 24 | ('Health', 6), ('electronic_cigarette', 4), ('eCigarette', 2), ('VAP', 2), ('u_soulblu1', 1)|
| eliquid | 60 | ('ejuice_reviews', 12), ('Vaping', 9), ('electronic_cigarette', 7), ('VapeBargainsUK', 5), ('ecig_vendors', 3) |
| e cig | 110 | ('electronic_cigarette', 25), ('VapeBargainsUK', 7), ('NBCauto', 7), ('AutoNewspaper', 7), ('ecigclassifieds', 5) |
| ecig | 27 | ('electronic_cigarette', 11), ('bonnaroo', 2), ('Vaping', 2), ('Stims', 1), ('VapeBargainsUK', 1) |
| e hookah | 3 | ('electronic_cigarette', 2), ('sanfrancisco', 1) |
| electronic cig | 1 | ('vaporents', 1)] |
| ehookah | 0 | None |

# 4. Specific subreddits analysis
- Should collect (Maybe we can collect those subreddits with "vape/ecig" in the name. need to check the API)
  - electronic_cigarette: 188K members.
  - ecigclassfields:21.2K members.
  - vaporents: 128K members.
  - Vaping: 109K members.

- Consider to collect
  - weedstocks: 132K members, but ecig keywords (vaping, vape, ecig) search didn't return too many relevant results.
  
- Should not collect (less members may have bias)
  - BayAreaVapers: 121 members, latest submission 1 year ago.
  - NorCalVapers: 40 members, latest submission 2 years ago.
  - eCigVendors: 100 members, latest submission 1 year ago.


## API Explanation
- Words in the search query will not appear concatenated in the results.
  - Search '**electronic cigarettes**': results contain 'I smoke regular **cigarettes** and **electronic** ones'. However, most results contains 'electronic cigarettes' instead of each word separately. This depends on query.
  - This feature can be applied to search flavored ecig keywords (e.g. smoke + blueberry). 
- The hyphen(-) is not working in keywords. API will treat them as space and search each word individually.
- Each word in the search query should appear individually without being part of other words.
  - Search '**e juice**': results will contain 'we love **e juice**', but **will not** contain 'we lov**e juice**'.
- There is no difference between lower-case and upper-case

## Problems
- **Too many requests limitation (Response 429)**. It seems we cannot send too many request in a short time, but we can solve this by separate the requests in different time period.


